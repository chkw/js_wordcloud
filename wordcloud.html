<!DOCTYPE html>
<html>
    <head>
        <title>word clouder</title>
        <meta charset="utf-8">

        <link rel="stylesheet" href="/js_wordcloud/css/index.css" type="text/css" />

        <script type="text/javascript" src="/js_wordcloud/bower_components/d3/d3.js" charset="utf-8"></script>
        <script type="text/javascript" src="/js_wordcloud/bower_components/d3-cloud/d3.layout.cloud.js" charset="utf-8"></script>
        <script type="text/javascript" src="/js_wordcloud/bower_components/underscore/underscore.js" charset="utf-8"></script>

        <script type="text/javascript" src="/js_wordcloud/scripts/utils.js" charset="utf-8"></script>

        <script type="text/javascript" src="/js_wordcloud/scripts/word_clouder.js" charset="utf-8"></script>

        <!-- <script type="text/javascript" src="/js_wordcloud/scripts/word_clouder_plugin.js" charset="utf-8"></script> -->
    </head>
    <body style='background-color:white'>
        <div id="testDiv">
            Word Cloud goes in this space.
        </div>
    </body>

    <script>
        var correlatorData_pearson = [{
            "_id" : {
                "_str" : "55db9f16829244fb843c06bc"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "TP53_tf_viper",
            "version_2" : 5,
            "score" : 0.873649243973168
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c06bd"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "YY1_tf_viper",
            "version_2" : 5,
            "score" : 0.849162215227929
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c06c0"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "E2F4_tf_viper",
            "version_2" : 5,
            "score" : 0.827367992724091
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c06c1"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "E2F1_tf_viper",
            "version_2" : 5,
            "score" : 0.826653826589164
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c06c2"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "ATF3_tf_viper",
            "version_2" : 5,
            "score" : 0.826045628397491
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c075b"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "smc-adeno-20k",
            "version_2" : 5,
            "score" : 0.657216461942131
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c07d0"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "smc20k",
            "version_2" : 5,
            "score" : 0.631793123667019
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c07d1"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "smc-iac-20k",
            "version_2" : 5,
            "score" : 0.631793123667019
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8ddfb"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "ZBTB33_tf_viper",
            "version_2" : 5,
            "score" : -0.739260878196753
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8ddfc"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "PRKAA2_kinase_viper",
            "version_2" : 5,
            "score" : -0.704077294639313
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8ddfe"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "ELF1_tf_viper",
            "version_2" : 5,
            "score" : -0.683366812795429
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8ddff"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "THAP1_tf_viper",
            "version_2" : 5,
            "score" : -0.680170632667812
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de00"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "PBX3_tf_viper",
            "version_2" : 5,
            "score" : -0.64773203882705
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de01"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "GABPA_tf_viper",
            "version_2" : 5,
            "score" : -0.618187865726368
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de0a"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "JAK2_kinase_viper",
            "version_2" : 5,
            "score" : -0.583837124191497
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de0c"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "LYN_kinase_viper",
            "version_2" : 5,
            "score" : -0.57517344389618
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de3c"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "CHUK_kinase_viper",
            "version_2" : 5,
            "score" : -0.483353293721955
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de4e"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "PRKAA1_kinase_viper",
            "version_2" : 5,
            "score" : -0.463128405464374
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de78"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "iac-adeno-20k",
            "version_2" : 5,
            "score" : -0.43001467963024
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de08"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "expression",
            "name_2" : "LPP",
            "version_2" : 5,
            "score" : -0.597502725388752
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de09"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "expression",
            "name_2" : "RB1",
            "version_2" : 5,
            "score" : -0.596516632190122
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de0d"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "expression",
            "name_2" : "RHOQ",
            "version_2" : 5,
            "score" : -0.572354797588107
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de0e"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "expression",
            "name_2" : "ZNF708",
            "version_2" : 5,
            "score" : -0.569480341966137
        }, {
            "_id" : {
                "_str" : "55dba7a3829244fb84b8de0f"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "expression",
            "name_2" : "ZNF493",
            "version_2" : 5,
            "score" : -0.561035338337202
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c06e0"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "expression",
            "name_2" : "PSMB6",
            "version_2" : 5,
            "score" : 0.714517641581596
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c06e2"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "expression",
            "name_2" : "MRTO4",
            "version_2" : 5,
            "score" : 0.713498520270621
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c06e3"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "expression",
            "name_2" : "SUPT16H",
            "version_2" : 5,
            "score" : 0.713285138722156
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c06e4"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "expression",
            "name_2" : "CDC34",
            "version_2" : 5,
            "score" : 0.712540864938858
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c06e5"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "expression",
            "name_2" : "CCT3",
            "version_2" : 5,
            "score" : 0.709317110303261
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c0754"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "CDK5_kinase_viper",
            "version_2" : 5,
            "score" : 0.658989281632376
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c077d"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "HIPK2_kinase_viper",
            "version_2" : 5,
            "score" : 0.647441404223295
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c0785"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "AURKA_kinase_viper",
            "version_2" : 5,
            "score" : 0.645640395871402
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c07a3"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "PRKCD_kinase_viper",
            "version_2" : 5,
            "score" : 0.640902906378282
        }, {
            "_id" : {
                "_str" : "55db9f16829244fb843c07c7"
            },
            "datatype_1" : "signature",
            "name_1" : "AURKB_kinase_viper",
            "version_1" : 5,
            "datatype_2" : "signature",
            "name_2" : "AKT1_kinase_viper",
            "version_2" : 5,
            "score" : 0.633543210151857
        }];

        var correlatorData_anova = [{
            "_id" : {
                "_str" : "55dbc840829244fb842c5599"
            },
            "name_2" : "GAP43",
            "name_1" : "Small_Cell",
            "datatype_2" : "expression",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : 1,
            "score" : 4.467070783785381
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c5655"
            },
            "name_2" : "GPR120",
            "name_1" : "Small_Cell",
            "datatype_2" : "expression",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : 1,
            "score" : 4.46672615823502
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c5879"
            },
            "name_2" : "LCN15",
            "name_1" : "Small_Cell",
            "datatype_2" : "expression",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : 1,
            "score" : 4.4648403121915035
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c58ca"
            },
            "name_2" : "DSCAML1",
            "name_1" : "Small_Cell",
            "datatype_2" : "expression",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : 1,
            "score" : 4.603367094926241
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c5984"
            },
            "name_2" : "RAD21",
            "name_1" : "Small_Cell",
            "datatype_2" : "expression",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : 1,
            "score" : 1.3026350720046165
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c5bce"
            },
            "name_2" : "C10orf84",
            "name_1" : "Small_Cell",
            "datatype_2" : "expression",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : 1,
            "score" : 1.3025691281338019
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c5cec"
            },
            "name_2" : "UPB1",
            "name_1" : "Small_Cell",
            "datatype_2" : "expression",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : 1,
            "score" : 1.3025666119343975
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c5dc1"
            },
            "name_2" : "HIST1H4I",
            "name_1" : "Small_Cell",
            "datatype_2" : "expression",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : 1,
            "score" : 1.3033480403054756
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c5e80"
            },
            "name_2" : "LHFPL3",
            "name_1" : "Small_Cell",
            "datatype_2" : "expression",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : 1,
            "score" : 1.3032091471677252
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c5e9c"
            },
            "name_2" : "GNLY",
            "name_1" : "Small_Cell",
            "datatype_2" : "expression",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : 1,
            "score" : 4.5470694370186315
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67d7"
            },
            "name_2" : "smc-adeno-20k",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 5.2446096034391285
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67d9"
            },
            "name_2" : "ASCL1_tf_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 5.182949933358952
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67db"
            },
            "name_2" : "CDK5_kinase_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 1.430229005344694
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67dd"
            },
            "name_2" : "NR1I2_tf_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 1.324971451171849
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67e1"
            },
            "name_2" : "RXRA_tf_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 3.035925617980628
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67e3"
            },
            "name_2" : "SUZ12_tf_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 2.7312642069335324
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67e5"
            },
            "name_2" : "FOXM1_tf_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 1.4779258770838082
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67e6"
            },
            "name_2" : "TBX2_tf_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 1.3205695096289025
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67e7"
            },
            "name_2" : "smc20k",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 3.9102959761709863
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67e8"
            },
            "name_2" : "smc-iac-50",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 7.046389587585484
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67ea"
            },
            "name_2" : "PRKAA1_kinase_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 1.4375051553415723
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67f1"
            },
            "name_2" : "ESRRA_tf_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 1.3594310059126038
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67f5"
            },
            "name_2" : "smc50",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 7.046389587585484
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67f6"
            },
            "name_2" : "smc-adeno-50",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 8.849290272125845
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67f8"
            },
            "name_2" : "adeno20k",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 3.155367077898949
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67fb"
            },
            "name_2" : "smc-iac-20k",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 3.9102959761709863
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67fc"
            },
            "name_2" : "PLK3_kinase_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 1.3040511973666336
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c67fe"
            },
            "name_2" : "WT1_tf_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 3.031370696021822
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c6800"
            },
            "name_2" : "CDK7_kinase_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 1.3285393620858907
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c6808"
            },
            "name_2" : "AURKA_kinase_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 1.309616918326185
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c6809"
            },
            "name_2" : "POU3F2_tf_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 4.071061901425736
        }, {
            "_id" : {
                "_str" : "55dbc840829244fb842c680e"
            },
            "name_2" : "SREBF2_tf_viper",
            "name_1" : "Small_Cell",
            "datatype_2" : "signature",
            "datatype_1" : "clinical",
            "version_1" : 1,
            "version_2" : "5",
            "score" : 1.344277646522924
        }];

        // var wordData = ["Hello", "world", "normally", "you", "want", "more", "words", "than", "this"];
        var wordData = correlatorData_pearson.map(function(element) {
        // var wordData = correlatorData_anova.map(function(element) {
            var name = element.name_2;
            name = name.replace(/_kinase_viper$/i, "").replace(/_tf_viper$/i, "");
            var newElement = {
                "text" : name,
                "score" : element.score,
                "data" : element
            };
            return newElement;
        });
        wordData = _.sortBy(wordData, function(data) {
            return Math.abs(data.score) * -1;
        });

        var containerElem = document.getElementById("testDiv");
        var width = 500;
        var height = 500;
        var clickHandler = function(d, i) {
            alert("clicked text:" + d.text);
        };
        word_clouder.draw_word_cloud(wordData, containerElem, width, height, clickHandler);
    </script>

</html>
